{"ast":null,"code":"import React,{useState}from\"react\";import DeleteOutlineOutlinedIcon from\"@mui/icons-material/DeleteOutlineOutlined\";import\"react-toastify/dist/ReactToastify.css\";import{ToastContainer,toast}from\"react-toastify\";import Modal from\"../../../Common Components/Modal/Modal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function DeleteMember(_ref){let{id,onDelete}=_ref;const access_token=localStorage.getItem(\"access\");const[showModal,setShowModal]=useState(false);const handleDelete=async()=>{// const item = {\n//   is_active:values[false],\n// }\ntry{const response=await fetch(`https://gym-backend-production-65cc.up.railway.app/members/deactivate/${id}`,{method:\"DELETE\",headers:{accept:\"*/*\",Authorization:access_token}// body:JSON.stringify(item)\n});console.log(id);if(response.ok){toast.success(\"Member deleted successfully\");onDelete(id);}else{toast.error(\"Failed to delete member\");}}catch(error){console.error(error);toast.error(\"An error occurred while deleting the member\");}};const handleShowModal=()=>{setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{onClick:handleShowModal,style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(DeleteOutlineOutlinedIcon,{className:\"dropdown__icon\"}),\" \\u062D\\u0630\\u0641\"]}),showModal&&/*#__PURE__*/_jsxs(Modal,{isOpen:showModal,onClose:handleCloseModal,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-4 fs-5 text-dark fw-bolder\",children:\"\\u0647\\u0644 \\u0627\\u0646\\u062A \\u0645\\u062A\\u0623\\u0643\\u062F \\u0627\\u0646\\u0643 \\u062A\\u0631\\u064A\\u062F \\u062D\\u0630\\u0641 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0639\\u0636\\u0648\\u061F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center delete mt-5 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"border-0 text-center fw-bolder tetx-dark p-2 rounded ms-3 delete-btn\",children:\"\\u0646\\u0639\\u0645, \\u062D\\u0630\\u0641\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseModal,className:\"border-0 text-center fw-bolder text-dark p-2 rounded canel-delete\",children:\"\\u0627\\u0644\\u063A\\u0627\\u0621\"})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]})]});}export default DeleteMember;","map":{"version":3,"names":["React","useState","DeleteOutlineOutlinedIcon","ToastContainer","toast","Modal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DeleteMember","_ref","id","onDelete","access_token","localStorage","getItem","showModal","setShowModal","handleDelete","response","fetch","method","headers","accept","Authorization","console","log","ok","success","error","handleShowModal","handleCloseModal","children","onClick","style","cursor","className","isOpen","onClose"],"sources":["C:/Users/T.B/Coding/Gym-FrontEnd/src/Component/Members/DeleteMember/DeleteMember.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport DeleteOutlineOutlinedIcon from \"@mui/icons-material/DeleteOutlineOutlined\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport Modal from \"../../../Common Components/Modal/Modal\";\r\n\r\nfunction DeleteMember({ id, onDelete }) {\r\n  const access_token = localStorage.getItem(\"access\");\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const handleDelete = async () => {\r\n    // const item = {\r\n    //   is_active:values[false],\r\n    // }\r\n    try {\r\n      const response = await fetch(\r\n        `https://gym-backend-production-65cc.up.railway.app/members/deactivate/${id}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            accept: \"*/*\",\r\n            Authorization: access_token,\r\n          },\r\n          // body:JSON.stringify(item)\r\n        }\r\n      );\r\n      console.log(id)\r\n\r\n      if (response.ok) {\r\n        toast.success(\"Member deleted successfully\");\r\n        onDelete(id);\r\n\r\n      } else {\r\n        toast.error(\"Failed to delete member\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"An error occurred while deleting the member\");\r\n    }\r\n  };\r\n  const handleShowModal = () => {\r\n    setShowModal(true);\r\n  };\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n  return (\r\n    <>\r\n      <p onClick={handleShowModal} style={{ cursor: \"pointer\" }}>\r\n        <DeleteOutlineOutlinedIcon className=\"dropdown__icon\" /> حذف\r\n      </p>\r\n      {showModal && (\r\n        <Modal isOpen={showModal} onClose={handleCloseModal}>\r\n          <div>\r\n            <p className=\"text-center mt-4 fs-5 text-dark fw-bolder\">\r\n              هل انت متأكد انك تريد حذف هذا العضو؟\r\n            </p>\r\n            <div className=\"text-center delete mt-5 mb-4\">\r\n              <button\r\n                onClick={handleDelete}\r\n                className=\"border-0 text-center fw-bolder tetx-dark p-2 rounded ms-3 delete-btn\"\r\n              >\r\n                نعم, حذف\r\n              </button>\r\n              <button\r\n                onClick={handleCloseModal}\r\n                className=\"border-0 text-center fw-bolder text-dark p-2 rounded canel-delete\"\r\n              >\r\n                الغاء\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <ToastContainer/>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default DeleteMember;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,yBAAyB,KAAM,2CAA2C,CACjF,MAAO,uCAAuC,CAC9C,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,CAAAC,KAAK,KAAM,wCAAwC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE3D,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAmB,IAAlB,CAAEC,EAAE,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACpC,KAAM,CAAAG,YAAY,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACnD,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAoB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B;AACA;AACA;AACA,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAC1B,yEAAyET,EAAE,EAAE,CAC7E,CACEU,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACPC,MAAM,CAAE,KAAK,CACbC,aAAa,CAAEX,YACjB,CACA;AACF,CACF,CAAC,CACDY,OAAO,CAACC,GAAG,CAACf,EAAE,CAAC,CAEf,GAAIQ,QAAQ,CAACQ,EAAE,CAAE,CACf1B,KAAK,CAAC2B,OAAO,CAAC,6BAA6B,CAAC,CAC5ChB,QAAQ,CAACD,EAAE,CAAC,CAEd,CAAC,IAAM,CACLV,KAAK,CAAC4B,KAAK,CAAC,yBAAyB,CAAC,CACxC,CACF,CAAE,MAAOA,KAAK,CAAE,CACdJ,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC,CACpB5B,KAAK,CAAC4B,KAAK,CAAC,6CAA6C,CAAC,CAC5D,CACF,CAAC,CACD,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5Bb,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CACD,KAAM,CAAAc,gBAAgB,CAAGA,CAAA,GAAM,CAC7Bd,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CACD,mBACEX,KAAA,CAAAE,SAAA,EAAAwB,QAAA,eACE1B,KAAA,MAAG2B,OAAO,CAAEH,eAAgB,CAACI,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAH,QAAA,eACxD5B,IAAA,CAACL,yBAAyB,EAACqC,SAAS,CAAC,gBAAgB,CAAE,CAAC,sBAC1D,EAAG,CAAC,CACHpB,SAAS,eACRV,KAAA,CAACJ,KAAK,EAACmC,MAAM,CAAErB,SAAU,CAACsB,OAAO,CAAEP,gBAAiB,CAAAC,QAAA,eAClD1B,KAAA,QAAA0B,QAAA,eACE5B,IAAA,MAAGgC,SAAS,CAAC,2CAA2C,CAAAJ,QAAA,CAAC,uLAEzD,CAAG,CAAC,cACJ1B,KAAA,QAAK8B,SAAS,CAAC,8BAA8B,CAAAJ,QAAA,eAC3C5B,IAAA,WACE6B,OAAO,CAAEf,YAAa,CACtBkB,SAAS,CAAC,sEAAsE,CAAAJ,QAAA,CACjF,wCAED,CAAQ,CAAC,cACT5B,IAAA,WACE6B,OAAO,CAAEF,gBAAiB,CAC1BK,SAAS,CAAC,mEAAmE,CAAAJ,QAAA,CAC9E,gCAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cACN5B,IAAA,CAACJ,cAAc,GAAC,CAAC,EACZ,CACR,EACD,CAAC,CAEP,CACA,cAAe,CAAAS,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}