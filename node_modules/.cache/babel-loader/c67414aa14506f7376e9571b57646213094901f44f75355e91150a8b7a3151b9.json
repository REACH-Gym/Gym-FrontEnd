{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useLazyGetSchedulesQuery}from\"../../features/api\";import TrainerSchedule from\"../TrainerSchedule/TrainerSchedule\";import styles from\"./TrainerScheduleContainer.module.css\";import{useParams}from\"react-router-dom\";import ComponentTitle from\"../../Common Components/ComponentTitle/ComponentTitle\";import{Commet}from\"react-loading-indicators\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TrainerScheduleContainer=()=>{var _Object$keys;const{sessionId}=useParams();console.log(sessionId);const[getSchedules,{isFetching:isTrainerSchedulesLoading,error:trainerScheduleError}]=useLazyGetSchedulesQuery();const[results,setResults]=useState([]);useEffect(()=>{(async()=>{try{const response=await getSchedules(`?filter{session.id}=${sessionId}&sort[]=trainer.id`);console.log(response.data.data.schedules);setResults(response);}catch(error){console.log(error);}})();},[getSchedules]);const[data,setData]=useState({});useEffect(()=>{const trainers={};if(results){for(let i=0;i<(results===null||results===void 0?void 0:(_results$data=results.data)===null||_results$data===void 0?void 0:(_results$data$data=_results$data.data)===null||_results$data$data===void 0?void 0:(_results$data$data$sc=_results$data$data.schedules)===null||_results$data$data$sc===void 0?void 0:_results$data$data$sc.length);i++){var _results$data,_results$data$data,_results$data$data$sc,_results$data2,_results$data2$data,_results$data2$data$s,_results$data3,_results$data3$data,_results$data3$data$s;trainers[`${results===null||results===void 0?void 0:(_results$data2=results.data)===null||_results$data2===void 0?void 0:(_results$data2$data=_results$data2.data)===null||_results$data2$data===void 0?void 0:(_results$data2$data$s=_results$data2$data.schedules[i])===null||_results$data2$data$s===void 0?void 0:_results$data2$data$s.trainer.id}`]=results===null||results===void 0?void 0:(_results$data3=results.data)===null||_results$data3===void 0?void 0:(_results$data3$data=_results$data3.data)===null||_results$data3$data===void 0?void 0:(_results$data3$data$s=_results$data3$data.schedules[i])===null||_results$data3$data$s===void 0?void 0:_results$data3$data$s.trainer.name;}console.log(trainers);setData(trainers);}},[results]);console.log(Object.keys(data).length);console.log(results);if(isTrainerSchedulesLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center w-100\",children:/*#__PURE__*/_jsx(Commet,{color:\"#316dcc\",size:\"medium\",text:\"\",textColor:\"\"})});}if(trainerScheduleError){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center mt-5 fs-1 fw-bold text-danger\",children:\"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623 \\u0628\\u0631\\u062C\\u0627\\u0621 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629 \\u0645\\u0631\\u0629 \\u0623\\u062E\\u0631\\u0649 \\u0644\\u0627\\u062D\\u0642\\u0627.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:`${styles.trainerSchedule} w-100`,children:[/*#__PURE__*/_jsx(ComponentTitle,{MainIcon:\"/assets/image/appointments.png\",title:\"تفاصيل الموعد\",subTitle:\"يمكنك متابعة تفاصيل الإشتراك من هنا\"}),Object.keys(data).length>0?(_Object$keys=Object.keys(data))===null||_Object$keys===void 0?void 0:_Object$keys.map((trainer,index)=>/*#__PURE__*/_jsx(TrainerSchedule,{id:trainer,trainerSchedule:results},index)):/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5 fs-1 fw-bold text-primary\",children:\"\\u0644\\u064A\\u0633 \\u0647\\u0646\\u0627\\u0643 \\u0645\\u0648\\u0627\\u0639\\u064A\\u062F \\u0645\\u062A\\u0627\\u062D\\u0629 \\u0644\\u0647\\u0630\\u0647 \\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629\"})]});};export default TrainerScheduleContainer;","map":{"version":3,"names":["useEffect","useState","useLazyGetSchedulesQuery","TrainerSchedule","styles","useParams","ComponentTitle","Commet","jsx","_jsx","jsxs","_jsxs","TrainerScheduleContainer","_Object$keys","sessionId","console","log","getSchedules","isFetching","isTrainerSchedulesLoading","error","trainerScheduleError","results","setResults","response","data","schedules","setData","trainers","i","_results$data","_results$data$data","_results$data$data$sc","length","_results$data2","_results$data2$data","_results$data2$data$s","_results$data3","_results$data3$data","_results$data3$data$s","trainer","id","name","Object","keys","className","children","color","size","text","textColor","trainerSchedule","MainIcon","title","subTitle","map","index"],"sources":["C:/Users/T.B/Coding/Gym-FrontEnd/src/Component/TrainerScheduleContainer/TrainerScheduleContainer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useLazyGetSchedulesQuery } from \"../../features/api\";\r\nimport TrainerSchedule from \"../TrainerSchedule/TrainerSchedule\";\r\nimport styles from \"./TrainerScheduleContainer.module.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ComponentTitle from \"../../Common Components/ComponentTitle/ComponentTitle\";\r\nimport { Commet } from \"react-loading-indicators\";\r\nconst TrainerScheduleContainer = () => {\r\n  const { sessionId } = useParams();\r\n  console.log(sessionId);\r\n  const [\r\n    getSchedules,\r\n    { isFetching: isTrainerSchedulesLoading, error: trainerScheduleError },\r\n  ] = useLazyGetSchedulesQuery();\r\n  const [results, setResults] = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await getSchedules(\r\n          `?filter{session.id}=${sessionId}&sort[]=trainer.id`\r\n        );\r\n        console.log(response.data.data.schedules);\r\n        setResults(response);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, [getSchedules]);\r\n  const [data, setData] = useState({});\r\n  useEffect(() => {\r\n    const trainers = {};\r\n    if (results) {\r\n      for (let i = 0; i < results?.data?.data?.schedules?.length; i++) {\r\n        trainers[`${results?.data?.data?.schedules[i]?.trainer.id}`] =\r\n          results?.data?.data?.schedules[i]?.trainer.name;\r\n      }\r\n      console.log(trainers);\r\n      setData(trainers);\r\n    }\r\n  }, [results]);\r\n  console.log(Object.keys(data).length);\r\n  console.log(results);\r\n\r\n  if (isTrainerSchedulesLoading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center align-items-center w-100\">\r\n        <Commet color=\"#316dcc\" size=\"medium\" text=\"\" textColor=\"\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (trainerScheduleError) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center align-items-center mt-5 fs-1 fw-bold text-danger\">\r\n        حدث خطأ برجاء المحاولة مرة أخرى لاحقا.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`${styles.trainerSchedule} w-100`}>\r\n      <ComponentTitle\r\n        MainIcon={\"/assets/image/appointments.png\"}\r\n        title={\"تفاصيل الموعد\"}\r\n        subTitle={\"يمكنك متابعة تفاصيل الإشتراك من هنا\"}\r\n      />\r\n      {Object.keys(data).length > 0 ? (\r\n        Object.keys(data)?.map((trainer, index) => (\r\n          <TrainerSchedule key={index} id={trainer} trainerSchedule={results} />\r\n        ))\r\n      ) : (\r\n        <div className=\"text-center mt-5 fs-1 fw-bold text-primary\">\r\n          ليس هناك مواعيد متاحة لهذه المجموعة\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrainerScheduleContainer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}