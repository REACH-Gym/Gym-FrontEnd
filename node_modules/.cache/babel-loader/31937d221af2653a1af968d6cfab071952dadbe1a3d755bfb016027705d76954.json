{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./ActiveSubcriptions.css\";import ComponentTitle from\"../../../Common Components/ComponentTitle/ComponentTitle\";import Filter from\"../../../Common Components/Filter/Filter\";import ComponentBtns from\"../../../Common Components/ComponentBtns/ComponentBtns\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ActiveSubscriptions(){const navigate=useNavigate();const access_token=localStorage.getItem(\"access\");const[activeSub,setActiveSub]=useState([]);useEffect(()=>{async function fetchActiveSubscriptions(){try{const response=await fetch(\"https://gym-backend-production-65cc.up.railway.app/members/memberships/?filterexclude[]=user&=admin&filter%7Bstatus%7D=active\",{method:\"GET\",headers:{accept:\"application/json\",Authorization:access_token}});const result=await response.json();console.log(result.data);setActiveSub(result.data.user_memberships);}catch(error){console.error(error);}}fetchActiveSubscriptions();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"allSubscriptionContainer mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between ps-3 pe-3\",children:[/*#__PURE__*/_jsx(ComponentTitle,{MainIcon:\"/assets/image/subscriptions.png\",title:\"الاشتراكات الفعالة\",subTitle:\"يمكنك متابعة  الاشتراكات الفعالة من هنا\"}),/*#__PURE__*/_jsx(Filter,{option1:\"جميع الأشتراكات\",option2:\"الأشتراكات الفعالة\",option3:\"أوشكت علي الأنتهاء\",option4:\"الأشتراكات المنتهية\",onClickOption1:()=>navigate('/Home/AllSubScriptions'),onClickOption2:()=>navigate('/Home/ActiveSubScription'),onClickOption3:()=>navigate('/Home/AlmostFinished'),onClickOption4:()=>navigate('/Home/ExpiredSubscriptions')}),/*#__PURE__*/_jsx(ComponentBtns,{btn1:\"+ إضافة اشتراك جديد \",onclick:()=>navigate('/Home/AddNewSubscription')})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table mt-3\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0636\\u0648\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\" \\u0631\\u0642\\u0645 \\u0627\\u0644\\u062C\\u0648\\u0627\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u0627\\u0644\\u0645\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:activeSub.map((subscription,index)=>/*#__PURE__*/_jsxs(\"tr\",{style:{fontSize:\"14px\"},children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:subscription.user.name}),/*#__PURE__*/_jsx(\"td\",{children:subscription.user.phone_number}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:subscription.membership.duration}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"rounded text-center p-2\",style:{color:\"#4AD991\",fontWeight:\"bolder\",backgroundColor:\"rgba(74, 217, 145,0.2)\"},children:subscription.status})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"rounded text-center p-2\",style:{color:\"#8280FF\",fontWeight:\"bolder\",backgroundColor:\"rgba(130, 128, 255,0.2)\"}})})]},index))})]})]});}export default ActiveSubscriptions;","map":{"version":3,"names":["React","useEffect","useState","ComponentTitle","Filter","ComponentBtns","useNavigate","jsx","_jsx","jsxs","_jsxs","ActiveSubscriptions","navigate","access_token","localStorage","getItem","activeSub","setActiveSub","fetchActiveSubscriptions","response","fetch","method","headers","accept","Authorization","result","json","console","log","data","user_memberships","error","className","children","MainIcon","title","subTitle","option1","option2","option3","option4","onClickOption1","onClickOption2","onClickOption3","onClickOption4","btn1","onclick","scope","map","subscription","index","style","fontSize","user","name","phone_number","membership","duration","color","fontWeight","backgroundColor","status"],"sources":["C:/Users/T.B/Coding/Gym-FrontEnd/src/Component/Subscriptions/ActiveSubscriptions/ActiveSubscriptions.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./ActiveSubcriptions.css\";\r\nimport ComponentTitle from \"../../../Common Components/ComponentTitle/ComponentTitle\";\r\nimport Filter from \"../../../Common Components/Filter/Filter\";\r\nimport ComponentBtns from \"../../../Common Components/ComponentBtns/ComponentBtns\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nfunction ActiveSubscriptions() {\r\n  const navigate = useNavigate();\r\n  const access_token = localStorage.getItem(\"access\");\r\n  const [activeSub, setActiveSub] = useState([]);\r\n  useEffect(() => {\r\n    async function fetchActiveSubscriptions() {\r\n      try {\r\n        const response = await fetch(\r\n          \"https://gym-backend-production-65cc.up.railway.app/members/memberships/?filterexclude[]=user&=admin&filter%7Bstatus%7D=active\",\r\n          {\r\n            method: \"GET\",\r\n            headers: {\r\n              accept: \"application/json\",\r\n              Authorization: access_token,\r\n            },\r\n          }\r\n        );\r\n        const result = await response.json();\r\n        console.log(result.data);\r\n        setActiveSub(result.data.user_memberships);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    fetchActiveSubscriptions();\r\n  }, []);\r\n  return (\r\n    <div className=\"allSubscriptionContainer mt-4\">\r\n      <div className=\"d-flex align-items-center justify-content-between ps-3 pe-3\">\r\n        <ComponentTitle\r\n          MainIcon={\"/assets/image/subscriptions.png\"}\r\n          title={\"الاشتراكات الفعالة\"}\r\n          subTitle={\"يمكنك متابعة  الاشتراكات الفعالة من هنا\"}\r\n        />\r\n        <Filter\r\n          option1={\"جميع الأشتراكات\"}\r\n          option2={\"الأشتراكات الفعالة\"}\r\n          option3={\"أوشكت علي الأنتهاء\"}\r\n          option4={\"الأشتراكات المنتهية\"}\r\n          onClickOption1={()=>navigate('/Home/AllSubScriptions')}\r\n          onClickOption2={()=>navigate('/Home/ActiveSubScription')}\r\n          onClickOption3={()=>navigate('/Home/AlmostFinished')}\r\n          onClickOption4={()=>navigate('/Home/ExpiredSubscriptions')}\r\n        />\r\n        <ComponentBtns btn1={\"+ إضافة اشتراك جديد \"} onclick={()=>navigate('/Home/AddNewSubscription')}/>\r\n      </div>\r\n      <table className=\"table mt-3\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            <th scope=\"col\">اسم العضو</th>\r\n            <th scope=\"col\"> رقم الجوال</th>\r\n            <th scope=\"col\">البيان</th>\r\n            <th scope=\"col\">من تاريخ</th>\r\n            <th scope=\"col\">إلى تاريخ</th>\r\n            <th scope=\"col\">المدة</th>\r\n            <th scope=\"col\">الحالة</th>\r\n            <th scope=\"col\">تفاصيل</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {activeSub.map((subscription,index) => (\r\n            <tr style={{ fontSize: \"14px\" }} key={index}>\r\n              <td>{index + 1}</td>\r\n              <td>{subscription.user.name}</td>\r\n              <td>{subscription.user.phone_number}</td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td>{subscription.membership.duration}</td>\r\n              <td>\r\n                <p\r\n                  className=\"rounded text-center p-2\"\r\n                  style={{\r\n                    color: \"#4AD991\",\r\n                    fontWeight: \"bolder\",\r\n                    backgroundColor: \"rgba(74, 217, 145,0.2)\",\r\n                  }}\r\n                >{subscription.status}</p>\r\n              </td>\r\n              <td>\r\n                <p\r\n                  className=\"rounded text-center p-2\"\r\n                  style={{\r\n                    color: \"#8280FF\",\r\n                    fontWeight: \"bolder\",\r\n                    backgroundColor: \"rgba(130, 128, 255,0.2)\",\r\n                  }}\r\n                ></p>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\nexport default ActiveSubscriptions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}