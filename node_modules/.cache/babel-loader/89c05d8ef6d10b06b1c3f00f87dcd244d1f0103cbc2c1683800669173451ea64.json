{"ast":null,"code":"import styles from\"./ScheduleContainer.module.css\";import ScheduleItem from\"../ScheduleItem/ScheduleItem\";import ComponentTitle from\"../../Common Components/ComponentTitle/ComponentTitle\";import Filter from\"../../Common Components/Filter/Filter\";import ComponentBtns from\"../../Common Components/ComponentBtns/ComponentBtns\";import{useGetSessionsQuery}from\"../../features/api\";import{useEffect,useState}from\"react\";import MainButton from\"../../Common Components/Main Button/MainButton\";import{Commet}from\"react-loading-indicators\";import{useNavigate}from\"react-router-dom\";// Schedule table container and header\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ScheduleContainer=()=>{const navigate=useNavigate();const[page,setPage]=useState(1);const[totalPages,setTotalPages]=useState(0);const{data,error,isLoading}=useGetSessionsQuery(`?page=${page}&per_page=20&sort[]=-id`);console.log(data);useEffect(()=>{var _data$data$meta;setTotalPages(data===null||data===void 0?void 0:(_data$data$meta=data.data.meta)===null||_data$data$meta===void 0?void 0:_data$data$meta.total_pages);},[data]);const[results,setResults]=useState([]);console.log(results);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center w-100\",children:/*#__PURE__*/_jsx(Commet,{color:\"#316dcc\",size:\"medium\",text:\"\",textColor:\"\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center text-danger fs-3 fw-bold\",children:\"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623\\u060C \\u0628\\u0631\\u062C\\u0627\\u0621 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629 \\u0645\\u0631\\u0629 \\u0623\\u062E\\u0631\\u0649\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:`${styles.scheduleContainer}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between gap-3 ps-3 pe-3\",children:[/*#__PURE__*/_jsx(ComponentTitle,{MainIcon:\"/assets/image/appointments.png\",title:\" جميع المواعيد\",subTitle:\"يمكنك متابعة جميع االمواعيد  من هنا\"}),/*#__PURE__*/_jsx(ComponentBtns,{btn1:\"+ إضافة موعد جديد \",onclick:()=>{navigate(\"/Home/AddScheduleForm\");}})]}),/*#__PURE__*/_jsxs(\"div\",{className:`${styles.tableContainer} text-end mt-3 ps-4 pe-4`,children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"thead\",{className:`fw-bold`,children:[/*#__PURE__*/_jsx(\"th\",{className:`p-2 pt-3 pb-3`,children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:`p-2 pt-3 pb-3`,children:\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:`p-2 pt-3 pb-3`,children:\"\\u0627\\u0644\\u0633\\u0639\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:`p-2 pt-3 pb-3`,children:\"\\u0627\\u0644\\u0645\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:`p-2 pt-3 pb-3`,children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:`p-2 pt-3 pb-3 text-center`,children:\"\\u062E\\u064A\\u0627\\u0631\\u0627\\u062A\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:data===null||data===void 0?void 0:data.data.sessions.map((session,index)=>{var _data$data$sessions;return/*#__PURE__*/_jsx(ScheduleItem,{index:(data===null||data===void 0?void 0:(_data$data$sessions=data.data.sessions)===null||_data$data$sessions===void 0?void 0:_data$data$sessions.indexOf(session))+(page-1)*5+1,session:session},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:`d-flex justify-content-between m-auto mt-5 align-items-center`,style:{width:\"350px\"},children:[/*#__PURE__*/_jsx(MainButton,{onClick:()=>setPage(page-1),text:\"<<\",disabled:page===1,btnWidth:\"100px\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[\"\\u0627\\u0644\\u0635\\u0641\\u062D\\u0629 \",page,\" \\u0645\\u0646 \",totalPages]}),/*#__PURE__*/_jsx(MainButton,{onClick:()=>setPage(page+1),text:\">>\",disabled:page===totalPages,btnWidth:\"100px\"})]})]})]})});};export default ScheduleContainer;","map":{"version":3,"names":["styles","ScheduleItem","ComponentTitle","Filter","ComponentBtns","useGetSessionsQuery","useEffect","useState","MainButton","Commet","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ScheduleContainer","navigate","page","setPage","totalPages","setTotalPages","data","error","isLoading","console","log","_data$data$meta","meta","total_pages","results","setResults","className","children","color","size","text","textColor","scheduleContainer","MainIcon","title","subTitle","btn1","onclick","tableContainer","sessions","map","session","index","_data$data$sessions","indexOf","style","width","onClick","disabled","btnWidth"],"sources":["C:/Users/T.B/Coding/Gym-FrontEnd/src/Component/ScheduleContainer/ScheduleContainer.js"],"sourcesContent":["import styles from \"./ScheduleContainer.module.css\";\r\nimport ScheduleItem from \"../ScheduleItem/ScheduleItem\";\r\nimport ComponentTitle from \"../../Common Components/ComponentTitle/ComponentTitle\";\r\nimport Filter from \"../../Common Components/Filter/Filter\";\r\nimport ComponentBtns from \"../../Common Components/ComponentBtns/ComponentBtns\";\r\nimport { useGetSessionsQuery } from \"../../features/api\";\r\nimport { useEffect, useState } from \"react\";\r\nimport MainButton from \"../../Common Components/Main Button/MainButton\";\r\nimport { Commet } from \"react-loading-indicators\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Schedule table container and header\r\nconst ScheduleContainer = () => {\r\n  const navigate = useNavigate();\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const { data, error, isLoading } = useGetSessionsQuery(\r\n    `?page=${page}&per_page=20&sort[]=-id`\r\n  );\r\n  console.log(data);\r\n  useEffect(() => {\r\n    setTotalPages(data?.data.meta?.total_pages);\r\n  }, [data]);\r\n\r\n  const [results, setResults] = useState([]);\r\n  console.log(results);\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center align-items-center w-100\">\r\n        <Commet color=\"#316dcc\" size=\"medium\" text=\"\" textColor=\"\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center align-items-center text-danger fs-3 fw-bold\">\r\n        حدث خطأ، برجاء المحاولة مرة أخرى\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={`${styles.scheduleContainer}`}>\r\n        <div className=\"d-flex align-items-center justify-content-between gap-3 ps-3 pe-3\">\r\n          <ComponentTitle\r\n            MainIcon={\"/assets/image/appointments.png\"}\r\n            title={\" جميع المواعيد\"}\r\n            subTitle={\"يمكنك متابعة جميع االمواعيد  من هنا\"}\r\n          />\r\n          {/* <Filter\r\n            query={\"sessions/\"}\r\n            options={[\"الاسم\"]}\r\n            searchResults={setResults}\r\n            status={false} */}\r\n          {/* /> */}\r\n          <ComponentBtns\r\n            btn1={\"+ إضافة موعد جديد \"}\r\n            onclick={() => {\r\n              navigate(\"/Home/AddScheduleForm\");\r\n            }}\r\n          />\r\n        </div>\r\n        {/* {results?.sessions?.length < 0 ? ( */}\r\n        <div className={`${styles.tableContainer} text-end mt-3 ps-4 pe-4`}>\r\n          <table className=\"w-100\">\r\n            <thead className={`fw-bold`}>\r\n              <th className={`p-2 pt-3 pb-3`}>#</th>\r\n              <th className={`p-2 pt-3 pb-3`}>المجموعة</th>\r\n              <th className={`p-2 pt-3 pb-3`}>السعر</th>\r\n              <th className={`p-2 pt-3 pb-3`}>المدة</th>\r\n              <th className={`p-2 pt-3 pb-3`}>ملاحظات</th>\r\n              <th className={`p-2 pt-3 pb-3 text-center`}>خيارات</th>\r\n            </thead>\r\n            <tbody>\r\n              {data?.data.sessions.map((session, index) => (\r\n                <ScheduleItem\r\n                  key={index}\r\n                  index={\r\n                    data?.data.sessions?.indexOf(session) + (page - 1) * 5 + 1\r\n                  }\r\n                  session={session}\r\n                />\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <div\r\n            className={`d-flex justify-content-between m-auto mt-5 align-items-center`}\r\n            style={{ width: \"350px\" }}\r\n          >\r\n            <MainButton\r\n              onClick={() => setPage(page - 1)}\r\n              text=\"<<\"\r\n              disabled={page === 1}\r\n              btnWidth=\"100px\"\r\n            />\r\n            <p className=\"m-0\">\r\n              الصفحة {page} من {totalPages}\r\n            </p>\r\n            <MainButton\r\n              onClick={() => setPage(page + 1)}\r\n              text=\">>\"\r\n              disabled={page === totalPages}\r\n              btnWidth=\"100px\"\r\n            />\r\n          </div>\r\n        </div>\r\n        {/* ) : (\r\n          <div\r\n            className={`${styles.tableContainer} text-end mt-3 ps-4 pe-4 ${\r\n              results?.sessions?.length > 0 ? \"d-block\" : \"d-none\"\r\n            }`}\r\n          >\r\n            <table className=\"w-100\">\r\n              <thead>\r\n                <tr>\r\n                  <th className={`p-2 pt-3 pb-3`}>#</th>\r\n                  <th className={`p-2 pt-3 pb-3`}>المجموعة</th>\r\n                  <th className={`p-2 pt-3 pb-3`}>السعر</th>\r\n                  <th className={`p-2 pt-3 pb-3`}>المدة</th>\r\n                  <th className={`p-2 pt-3 pb-3`}>ملاحظات</th>\r\n                  <th className={`p-2 pt-3 pb-3 text-center`}>خيارات</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {results?.sessions?.map((item, index) => (\r\n                  <ScheduleItem key={index} index={index + 1} session={item} />\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )} */}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default ScheduleContainer;\r\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,gCAAgC,CACnD,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,cAAc,KAAM,uDAAuD,CAClF,MAAO,CAAAC,MAAM,KAAM,uCAAuC,CAC1D,MAAO,CAAAC,aAAa,KAAM,qDAAqD,CAC/E,OAASC,mBAAmB,KAAQ,oBAAoB,CACxD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,UAAU,KAAM,gDAAgD,CACvE,OAASC,MAAM,KAAQ,0BAA0B,CACjD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAAEgB,IAAI,CAAEC,KAAK,CAAEC,SAAU,CAAC,CAAGpB,mBAAmB,CACpD,SAASc,IAAI,yBACf,CAAC,CACDO,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC,CACjBjB,SAAS,CAAC,IAAM,KAAAsB,eAAA,CACdN,aAAa,CAACC,IAAI,SAAJA,IAAI,kBAAAK,eAAA,CAAJL,IAAI,CAAEA,IAAI,CAACM,IAAI,UAAAD,eAAA,iBAAfA,eAAA,CAAiBE,WAAW,CAAC,CAC7C,CAAC,CAAE,CAACP,IAAI,CAAC,CAAC,CAEV,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAC1CmB,OAAO,CAACC,GAAG,CAACI,OAAO,CAAC,CACpB,GAAIN,SAAS,CAAE,CACb,mBACEb,IAAA,QAAKqB,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACrEtB,IAAA,CAACH,MAAM,EAAC0B,KAAK,CAAC,SAAS,CAACC,IAAI,CAAC,QAAQ,CAACC,IAAI,CAAC,EAAE,CAACC,SAAS,CAAC,EAAE,CAAE,CAAC,CAC1D,CAAC,CAEV,CAEA,GAAId,KAAK,CAAE,CACT,mBACEZ,IAAA,QAAKqB,SAAS,CAAC,2EAA2E,CAAAC,QAAA,CAAC,yKAE3F,CAAK,CAAC,CAEV,CAEA,mBACEtB,IAAA,CAAAI,SAAA,EAAAkB,QAAA,cACEpB,KAAA,QAAKmB,SAAS,CAAE,GAAGjC,MAAM,CAACuC,iBAAiB,EAAG,CAAAL,QAAA,eAC5CpB,KAAA,QAAKmB,SAAS,CAAC,mEAAmE,CAAAC,QAAA,eAChFtB,IAAA,CAACV,cAAc,EACbsC,QAAQ,CAAE,gCAAiC,CAC3CC,KAAK,CAAE,gBAAiB,CACxBC,QAAQ,CAAE,qCAAsC,CACjD,CAAC,cAOF9B,IAAA,CAACR,aAAa,EACZuC,IAAI,CAAE,oBAAqB,CAC3BC,OAAO,CAAEA,CAAA,GAAM,CACb1B,QAAQ,CAAC,uBAAuB,CAAC,CACnC,CAAE,CACH,CAAC,EACC,CAAC,cAENJ,KAAA,QAAKmB,SAAS,CAAE,GAAGjC,MAAM,CAAC6C,cAAc,0BAA2B,CAAAX,QAAA,eACjEpB,KAAA,UAAOmB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACtBpB,KAAA,UAAOmB,SAAS,CAAE,SAAU,CAAAC,QAAA,eAC1BtB,IAAA,OAAIqB,SAAS,CAAE,eAAgB,CAAAC,QAAA,CAAC,GAAC,CAAI,CAAC,cACtCtB,IAAA,OAAIqB,SAAS,CAAE,eAAgB,CAAAC,QAAA,CAAC,kDAAQ,CAAI,CAAC,cAC7CtB,IAAA,OAAIqB,SAAS,CAAE,eAAgB,CAAAC,QAAA,CAAC,gCAAK,CAAI,CAAC,cAC1CtB,IAAA,OAAIqB,SAAS,CAAE,eAAgB,CAAAC,QAAA,CAAC,gCAAK,CAAI,CAAC,cAC1CtB,IAAA,OAAIqB,SAAS,CAAE,eAAgB,CAAAC,QAAA,CAAC,4CAAO,CAAI,CAAC,cAC5CtB,IAAA,OAAIqB,SAAS,CAAE,2BAA4B,CAAAC,QAAA,CAAC,sCAAM,CAAI,CAAC,EAClD,CAAC,cACRtB,IAAA,UAAAsB,QAAA,CACGX,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEA,IAAI,CAACuB,QAAQ,CAACC,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,QAAAC,mBAAA,oBACtCtC,IAAA,CAACX,YAAY,EAEXgD,KAAK,CACH,CAAA1B,IAAI,SAAJA,IAAI,kBAAA2B,mBAAA,CAAJ3B,IAAI,CAAEA,IAAI,CAACuB,QAAQ,UAAAI,mBAAA,iBAAnBA,mBAAA,CAAqBC,OAAO,CAACH,OAAO,CAAC,EAAG,CAAC7B,IAAI,CAAG,CAAC,EAAI,CAAC,CAAG,CAC1D,CACD6B,OAAO,CAAEA,OAAQ,EAJZC,KAKN,CAAC,EACH,CAAC,CACG,CAAC,EACH,CAAC,cACRnC,KAAA,QACEmB,SAAS,CAAE,+DAAgE,CAC3EmB,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAnB,QAAA,eAE1BtB,IAAA,CAACJ,UAAU,EACT8C,OAAO,CAAEA,CAAA,GAAMlC,OAAO,CAACD,IAAI,CAAG,CAAC,CAAE,CACjCkB,IAAI,CAAC,IAAI,CACTkB,QAAQ,CAAEpC,IAAI,GAAK,CAAE,CACrBqC,QAAQ,CAAC,OAAO,CACjB,CAAC,cACF1C,KAAA,MAAGmB,SAAS,CAAC,KAAK,CAAAC,QAAA,EAAC,uCACV,CAACf,IAAI,CAAC,gBAAI,CAACE,UAAU,EAC3B,CAAC,cACJT,IAAA,CAACJ,UAAU,EACT8C,OAAO,CAAEA,CAAA,GAAMlC,OAAO,CAACD,IAAI,CAAG,CAAC,CAAE,CACjCkB,IAAI,CAAC,IAAI,CACTkB,QAAQ,CAAEpC,IAAI,GAAKE,UAAW,CAC9BmC,QAAQ,CAAC,OAAO,CACjB,CAAC,EACC,CAAC,EACH,CAAC,EA0BH,CAAC,CACN,CAAC,CAEP,CAAC,CACD,cAAe,CAAAvC,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}