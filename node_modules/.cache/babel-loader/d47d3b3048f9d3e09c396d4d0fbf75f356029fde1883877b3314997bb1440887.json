{"ast":null,"code":"import React from\"react\";import\"./AddNewSubscription.css\";import ComponentTitle from\"../../../Common Components/ComponentTitle/ComponentTitle\";import{Formik,Form}from\"formik\";import InputField from\"../../../Common Components/InputField/InputField\";import MainButton from\"../../../Common Components/Main Button/MainButton\";import*as Yup from\"yup\";import{ToastContainer,toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddNewSubscription(){const navigate=useNavigate();const access_token=localStorage.getItem(\"access\");const handleSubmit=async values=>{try{const items={name:values[\"name\"],price:values[\"price\"],membership_duration:values[\"membership_duration\"],freeze_duration:values[\"freeze_duration\"],description:values[\"description\"]};const response=await fetch(\"https://gym-backend-production-65cc.up.railway.app/memberships/\",{method:\"POST\",headers:{accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:access_token},body:JSON.stringify(items)});const result=await response.json();if(response.ok){console.log(\"Response data:\",result);toast.success(\"Done! Subscription Added Successfully\");setTimeout(()=>{navigate(\"/Home/AllSubScriptions\");},1500);}else{console.error(\"Response status:\",response.status);console.error(\"Response body:\",result);console.log(\"Failed to add new Subscription\");}}catch(error){console.error(\"Error during submission:\",error);}};const validationSchema=Yup.object({name:Yup.string().required(\"هذا الحقل الزامي\"),price:Yup.string().required(\"هذا الحقل الزامي\"),membership_duration:Yup.string().required(\"هذا الحقل الزامي\"),freeze_duration:Yup.string().required(\"هذا الحقل الزامي\"),description:Yup.string().required(\"هذا الحقل الزامي\")});const intialValues={name:\"\",description:\"\",price:\"\",membership_duration:\"\",freeze_duration:\"\"};return/*#__PURE__*/_jsxs(\"div\",{className:\"AddNewSubscriptionContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pe-4\",children:/*#__PURE__*/_jsx(ComponentTitle,{MainIcon:\"/assets/image/subscriptions.png\",title:\"إضافة اشتراك جديد\",subTitle:\"يمكنك إضافة اشتراك جديد من هنا\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"addSubFormContainer mt-4\",children:/*#__PURE__*/_jsx(Formik,{onSubmit:handleSubmit,initialValues:intialValues,validationSchema:validationSchema,children:/*#__PURE__*/_jsxs(Form,{className:\"addSubForm mt-5 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4 g-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(InputField,{name:\"name\",label:\"اسم الاشتراك\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(InputField,{name:\"price\",label:\"السعر\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4 g-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(InputField,{name:\"membership_duration\",label:\"المدة\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(InputField,{name:\"freeze_duration\",label:\"فترة التجميد\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(InputField,{name:\"description\",label:\"الملاحظات\",className:\"add-note\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"addmemberBtn mt-5\",children:/*#__PURE__*/_jsx(MainButton,{text:\"اضافة\",btnType:\"submit\"})})]})})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default AddNewSubscription;","map":{"version":3,"names":["React","ComponentTitle","Formik","Form","InputField","MainButton","Yup","ToastContainer","toast","useNavigate","jsx","_jsx","jsxs","_jsxs","AddNewSubscription","navigate","access_token","localStorage","getItem","handleSubmit","values","items","name","price","membership_duration","freeze_duration","description","response","fetch","method","headers","accept","Authorization","body","JSON","stringify","result","json","ok","console","log","success","setTimeout","error","status","validationSchema","object","string","required","intialValues","className","children","MainIcon","title","subTitle","onSubmit","initialValues","label","text","btnType"],"sources":["C:/Users/T.B/Coding/Gym-FrontEnd/src/Component/Subscriptions/AddNewSubscription/AddNewSubscription.js"],"sourcesContent":["import React from \"react\";\r\nimport \"./AddNewSubscription.css\";\r\nimport ComponentTitle from \"../../../Common Components/ComponentTitle/ComponentTitle\";\r\nimport { Formik, Form } from \"formik\";\r\nimport InputField from \"../../../Common Components/InputField/InputField\";\r\nimport MainButton from \"../../../Common Components/Main Button/MainButton\";\r\nimport * as Yup from \"yup\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nfunction AddNewSubscription() {\r\n  const navigate = useNavigate();\r\n  const access_token = localStorage.getItem(\"access\");\r\n  const handleSubmit = async (values) => {\r\n    try {\r\n      const items = {\r\n        name: values[\"name\"],\r\n        price: values[\"price\"],\r\n        membership_duration: values[\"membership_duration\"],\r\n        freeze_duration: values[\"freeze_duration\"],\r\n        description: values[\"description\"],\r\n      };\r\n      const response = await fetch(\r\n        \"https://gym-backend-production-65cc.up.railway.app/memberships/\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: access_token,\r\n          },\r\n          body: JSON.stringify(items),\r\n        }\r\n      );\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        console.log(\"Response data:\", result);\r\n        toast.success(\"Done! Subscription Added Successfully\");\r\n        setTimeout(() => {\r\n          navigate(\"/Home/AllSubScriptions\");\r\n        }, 1500);\r\n      } else {\r\n        console.error(\"Response status:\", response.status);\r\n        console.error(\"Response body:\", result);\r\n        console.log(\"Failed to add new Subscription\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during submission:\", error);\r\n    }\r\n  };\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"هذا الحقل الزامي\"),\r\n    price: Yup.string().required(\"هذا الحقل الزامي\"),\r\n    membership_duration: Yup.string().required(\"هذا الحقل الزامي\"),\r\n    freeze_duration: Yup.string().required(\"هذا الحقل الزامي\"),\r\n    description: Yup.string().required(\"هذا الحقل الزامي\"),\r\n  });\r\n  const intialValues = {\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    membership_duration: \"\",\r\n    freeze_duration: \"\",\r\n  };\r\n  return (\r\n    <div className=\"AddNewSubscriptionContainer\">\r\n      <div className=\"pe-4\">\r\n        <ComponentTitle\r\n          MainIcon={\"/assets/image/subscriptions.png\"}\r\n          title={\"إضافة اشتراك جديد\"}\r\n          subTitle={\"يمكنك إضافة اشتراك جديد من هنا\"}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"addSubFormContainer mt-4\">\r\n        <Formik\r\n          onSubmit={handleSubmit}\r\n          initialValues={intialValues}\r\n          validationSchema={validationSchema}\r\n        >\r\n          <Form className=\"addSubForm mt-5 mb-4\">\r\n            <div className=\"row mb-4 g-5\">\r\n              <div className=\"col-6\">\r\n                <InputField name={\"name\"} label={\"اسم الاشتراك\"} />\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <InputField name={\"price\"} label={\"السعر\"} />\r\n              </div>\r\n            </div>\r\n            <div className=\"row mb-4 g-5\">\r\n              <div className=\"col-6\">\r\n                <InputField name={\"membership_duration\"} label={\"المدة\"} />\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <InputField name={\"freeze_duration\"} label={\"فترة التجميد\"} />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <InputField\r\n                name={\"description\"}\r\n                label={\"الملاحظات\"}\r\n                className=\"add-note\"\r\n              />\r\n            </div>\r\n            <div className=\"addmemberBtn mt-5\">\r\n              <MainButton text={\"اضافة\"} btnType={\"submit\"} />\r\n            </div>\r\n          </Form>\r\n        </Formik>\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\nexport default AddNewSubscription;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}